<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Professor - CCML</title>
    <link rel="stylesheet" href="style.css?v=1.0.1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- Navega√ß√£o (Adicionada para consist√™ncia mobile) -->
    <nav>
        <div class="logo">CCML</div>
        <button class="mobile-menu-btn" onclick="toggleMenu()"><i class="fa-solid fa-bars"></i></button>
        <ul class="nav-links">
            <li><a href="index.html">In√≠cio</a></li>
            <li><a href="painel_professor.html" style="color: var(--gold);">Painel</a></li>
        </ul>
    </nav>

    <!-- Tela de Login (Simulada) -->
    <div id="loginScreen" class="login-overlay">
        <div class="login-box animate-on-scroll fade-up">
            <div style="margin-bottom: 25px;">
                <h1 class="logo" style="color: var(--gold); font-size: 2.5rem; margin-bottom: 5px;">CCML</h1>
                <p style="font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; color: var(--dark);">Centro Cultural Maestro Levi</p>
            </div>
            
            <h2 style="font-size: 1.4rem; margin-bottom: 10px;">√Årea do Professor</h2>
            <p style="margin-bottom: 25px; color: #666; font-size: 0.9rem;">Acesso restrito √† equipe pedag√≥gica</p>
            
            <input type="password" id="teacherPass" placeholder="Digite a senha de acesso..." class="login-input">
            <button onclick="checkTeacherLogin()" class="btn-main" style="width: 100%; margin-top: 5px; margin-bottom: 15px;">Entrar</button>
            
            <div style="display: flex; align-items: center; margin: 10px 0; color: #999; font-size: 0.8rem;"><span style="flex:1; height:1px; background:#eee;"></span><span style="padding: 0 10px;">OU</span><span style="flex:1; height:1px; background:#eee;"></span></div>

            <button onclick="handleGoogleLogin()" class="btn-main" style="width: 100%; margin-top: 5px; background-color: #4285F4; color: white;">
                <i class="fa-brands fa-google" style="margin-right: 8px;"></i> Entrar com Google
            </button>
            <a href="index.html" style="display: block; margin-top: 20px; color: #999; font-size: 0.9rem; transition: 0.3s;"><i class="fa-solid fa-arrow-left"></i> Voltar ao In√≠cio</a>
            
            <p id="loginError" style="color: red; font-size: 0.8rem; margin-top: 10px; display: none;">Senha incorreta!</p>
        </div>
    </div>

    <!-- Conte√∫do do Painel (Oculto inicialmente) -->
    <div id="teacherDashboard" style="display: none;">
        <div class="main-container" style="margin-top: 40px;">
            <div class="dashboard-header">
                <h1>Ol√°, Maestro! üéº</h1>
                <p>Bem-vindo ao seu painel de controle.</p>
            </div>

            <!-- SURPRESA: Analytics Visual para Investidores -->
            <div class="stats-overview animate-on-scroll fade-up">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fa-solid fa-users"></i></div>
                    <div class="stat-info">
                        <h3>124</h3>
                        <p>Alunos Ativos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="background: #e8f5e9; color: #2e7d32;"><i class="fa-solid fa-chart-line"></i></div>
                    <div class="stat-info">
                        <h3>+15%</h3>
                        <p>Crescimento Mensal</p>
                    </div>
                </div>
                <div class="stat-card wide">
                    <h3>Distribui√ß√£o por Curso</h3>
                    <div class="bar-chart">
                        <div class="bar-row"><span class="label">Piano</span><div class="bar"><div class="fill" style="width: 80%;"></div></div><span class="val">80</span></div>
                        <div class="bar-row"><span class="label">Viol√£o</span><div class="bar"><div class="fill" style="width: 65%;"></div></div><span class="val">65</span></div>
                        <div class="bar-row"><span class="label">Vocal</span><div class="bar"><div class="fill" style="width: 45%;"></div></div><span class="val">45</span></div>
                    </div>
                </div>
            </div>
            <!-- Fim da Surpresa -->

            <div class="dashboard-grid">
                
                <!-- Ferramenta 1: Gerador de Feedback -->
                <div class="dash-card animate-on-scroll fade-up">
                    <h3><i class="fa-brands fa-whatsapp" style="color: var(--gold);"></i> Feedback R√°pido</h3>
                    <p style="font-size: 0.8rem; color: #777; margin-bottom: 15px;">Gere uma mensagem padronizada para enviar aos pais/alunos.</p>
                    
                    <div class="input-group">
                        <label>Nome do Aluno</label>
                        <input type="text" id="fbName" placeholder="Ex: Maria">
                    </div>
                    <div class="input-group">
                        <label>Tema da Aula</label>
                        <input type="text" id="fbTopic" placeholder="Ex: Escala de D√≥ Maior">
                    </div>
                    <div class="input-group">
                        <label>Desempenho</label>
                        <select id="fbRating">
                            <option value="Excelente! üåü">Excelente! üåü</option>
                            <option value="Muito Bom! üëè">Muito Bom! üëè</option>
                            <option value="Precisa Praticar Mais üéπ">Precisa Praticar Mais üéπ</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Tarefa de Casa</label>
                        <input type="text" id="fbHomework" placeholder="Ex: Treinar p√°gina 12">
                    </div>

                    <button onclick="generateFeedback()" class="btn-nav" style="width: 100%; margin-top: 10px;">
                        <i class="fa-regular fa-copy"></i> Copiar Mensagem
                    </button>
                </div>

                <!-- Ferramenta 2: Agenda Visual (Est√°tica) -->
                <div class="dash-card animate-on-scroll fade-up delay-200">
                    <h3><i class="fa-regular fa-calendar" style="color: var(--gold);"></i> Agenda do Dia</h3>
                    <ul class="agenda-list">
                        <li>
                            <span class="time">09:00</span>
                            <span class="student">Jo√£o Silva (Piano)</span>
                        </li>
                        <li>
                            <span class="time">10:00</span>
                            <span class="student">Turma Infantil (Musicaliza√ß√£o)</span>
                        </li>
                        <li>
                            <span class="time">14:00</span>
                            <span class="student">Ana Clara (Viol√£o)</span>
                        </li>
                        <li class="free-slot">
                            <span class="time">15:00</span>
                            <span>Hor√°rio Livre</span>
                        </li>
                    </ul>
                    
                    <div id="addStudentForm" style="display: none; margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px;">
                        <input type="time" id="newTime" class="login-input" style="padding: 8px; margin-bottom: 5px;">
                        <input type="text" id="newStudent" placeholder="Nome do Aluno" class="login-input" style="padding: 8px; margin-bottom: 10px;">
                        <button onclick="addStudent()" class="btn-nav" style="width: 100%; background: var(--gold); color: white !important;">Confirmar</button>
                    </div>

                    <button onclick="toggleAddStudent()" class="btn-main" style="width: 100%; margin-top: 20px; font-size: 0.8rem;">+ Adicionar Aluno</button>
                </div>

                <!-- Ferramenta 3: Lista de Matr√≠culas (Nova) -->
                <div class="dash-card animate-on-scroll fade-up" style="grid-column: 1 / -1;">
                    <h3><i class="fa-solid fa-list" style="color: var(--gold);"></i> Solicita√ß√µes de Matr√≠cula Online</h3>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; margin-top: 15px; font-size: 0.9rem;">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Nome</th>
                                    <th>Curso</th>
                                    <th>WhatsApp</th>
                                    <th>N√≠vel</th>
                                </tr>
                            </thead>
                            <tbody id="enrollmentList">
                                <!-- O JavaScript vai preencher aqui -->
                            </tbody>
                        </table>
                        <p id="loadingMsg" style="text-align: center; padding: 20px; color: #888;">Carregando dados...</p>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="footer-container"></div>

    <script type="module" src="js/app.js?v=1.0.1"></script>
</body>
</html>